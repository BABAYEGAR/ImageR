@using Image.Models.Entities
@using Microsoft.AspNetCore.Http
@using Newtonsoft.Json
@model AppUser
@{
    Layout = "Layout/Dashboard/_LayoutDashboard";
    Role userRole = null;
    if (Context.Session.GetString("Role") != null)
    {
        var roleString = Context.Session.GetString("Role");
        userRole = JsonConvert.DeserializeObject<Role>(roleString);
    }
}
@using (Html.BeginForm("ManageProfile", "Account", FormMethod.Post, new {enctype = "multipart/form-data", role = "form"}))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.AppUserId)
    @Html.HiddenFor(m => m.DateCreated)
    @Html.HiddenFor(m => m.Email)
    @Html.HiddenFor(m => m.CreatedBy)
    @Html.HiddenFor(m => m.Password)
    @Html.HiddenFor(m => m.ConfirmPassword)
    @Html.HiddenFor(m => m.RoleId)
    @Html.HiddenFor(m => m.Status)
    @Html.ValidationSummary(true, "", new {@class = "text-danger"})

    <div class="form-body">
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Name, new {@class = "control-label"})<span class="required">*</span>
            @Html.EditorFor(model => model.Name, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter your name"}})
            @Html.ValidationMessageFor(model => model.Name, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Username, new {@class = "control-label"})<span class="required">*</span>
            @Html.EditorFor(model => model.Username, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter your username" } })
            @Html.ValidationMessageFor(model => model.Username, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Email, new {@class = "control-label"})<span class="required">*</span>
            @Html.EditorFor(model => model.Email, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter your Email Address", disabled = "disabled"}})
            @Html.ValidationMessageFor(model => model.Email, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Mobile, new {@class = "control-label"})<span class="required">*</span>
            @Html.EditorFor(model => model.Mobile, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter the mobile number"}})
            @Html.ValidationMessageFor(model => model.Mobile, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.DateOfBirth, new {@class = "control-label"})
            @Html.EditorFor(model => model.DateOfBirth, new {htmlAttributes = new {@class = "form-control", id = "minimum-dtpicker", placeholder = "Please select the your Date Of Birth"}})
            @Html.ValidationMessageFor(model => model.DateOfBirth, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Address, new {@class = "control-label"})
            @Html.EditorFor(model => model.Address, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter your address"}})
            @Html.ValidationMessageFor(model => model.Address, "", new {@class = "text-danger"})
        </div>
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Website, new {@class = "control-label"})
            @Html.EditorFor(model => model.Website, new {htmlAttributes = new {@class = "form-control", placeholder = "Please enter your website link" } })
            @Html.ValidationMessageFor(model => model.Website, "", new {@class = "text-danger"})
        </div>
        @if (userRole != null && userRole.UploadImage)
        {
            <div class="form-group col-md-6">
                @Html.LabelFor(model => model.PhotographerCategoryId, new {@class = "control-label"})
                @Html.DropDownListFor(model => model.PhotographerCategoryId, null, "Select your photography category", new {@class = "form-control", placeholder = ""})
                @Html.ValidationMessageFor(model => model.PhotographerCategoryId, "", new {@class = "text-danger"})
            </div>
        }

        <div class="form-group col-md-12">
            @Html.LabelFor(model => model.Biography, new {@class = "control-label"})
            @Html.TextAreaFor(model => model.Biography, new {@class = "form-control", placeholder = ""})
            @Html.ValidationMessageFor(model => model.Biography, "", new {@class = "text-danger"})
        </div>

    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
        <a href="@Url.Action("Profile", "Account'")" class="btn btn-default">Cancel</a>
    </div>
}